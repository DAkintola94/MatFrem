@using MatFrem.Models.DomainModel
@model IEnumerable<LocationModel>

<head>
    <link href="~/css/sortTableStyle.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/5eea027e19.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<div class="box">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="text" id="searchTable" placeholder="Søk..." />
</div>
<div id="portexe-search-root">
    <div id="portexe-table-container">
        @if (Model != null && Model.Any())
        {
            <table class="table table-sortable" id="firstTableId">
                <thead>
                    <tr>                  
                        <th>Beskrivelse</th>
                        <th>Dato</th>
                        <th>Rapport ID</th>
                        <th>Geo Json</th>
                    </tr>
                </thead>
                <tbody id="myTable">
                    @foreach (var locationReport in Model)
                    {
                        <tr>
                            
                            <td>@locationReport.LocationMessage</td>
                            <td>@locationReport.Date</td>
                            <td>@locationReport.LocationReportID</td>
                            <td>@locationReport.GeoJson</td> <!-- NB! since the model is nested, you can do that to get a specific value -->
                            <td>
                                <a asp-area=""
                                   asp-controller="Location"
                                   asp-action="ViewIndexTable"
                                   asp-route-id="@locationReport.LocationReportID">
                                    <img src="~/images/green-arrow.svg" alt="Gå til" style="height: 40px;" />
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <p>Ingen innmeldinger funnet!</p>
        }

    </div>
</div>

<script>var modelData = @Html.Raw(Json.Serialize(Model));</script>

<script src="~/js/sortSearch.js"> </script>
